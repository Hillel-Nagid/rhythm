(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{FlQF:function(t,e,n){"use strict";n.r(e);var a=n("1OyB"),c=n("vuIU"),o=n("JX7q"),r=n("Ji7U"),i=n("md7G"),s=n("foSv"),u=n("rePB"),l=n("q1tI"),f=n.n(l),h=n("vDqi"),p=n.n(h),k=n("UpVV"),y=f.a.createElement;function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var c=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var _=function(t){Object(r.a)(n,t);var e=d(n);function n(){var t;return Object(a.a)(this,n),t=e.call(this),Object(u.a)(Object(o.a)(t),"getTracks",(function(){p.a.get("https://api.spotify.com/v1/search?q=".concat(t.state.query,"&type=track&limit=5"),{headers:{Authorization:"".concat(t.state.token_type," ").concat(t.state.token)}}).then((function(e){t.setState({track_list:e.data.tracks.items})})).catch((function(t){console.log(t)}))})),Object(u.a)(Object(o.a)(t),"changeHandler",(function(){t.setState({query:t.search.value},(function(){t.state.query&&t.state.query.length>1?t.getTracks():t.setState({track_list:[]})}))})),t.state={token:null,track_list:[],query:""},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}return t}),{});this.setState({token:t.access_token,token_type:t.token_type})}},{key:"render",value:function(){var t=this;return y(f.a.Fragment,null,!this.state.token&&y("button",null,y("a",{href:"https://accounts.spotify.com/authorize?client_id=58b9c4063c904cda87af80186a732f01&redirect_uri=http:%2F%2Flocalhost:3000&response_type=token"},"Login With Spotify")),this.state.token&&y(f.a.Fragment,null,y("input",{ref:function(e){return t.search=e},onChange:this.changeHandler}),y(k.default,{authorization:"".concat(this.state.token_type," ").concat(this.state.token),tracks:this.state.track_list})))}}]),n}(l.Component);e.default=_},GAPh:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rhythm",function(){return n("FlQF")}])}},[["GAPh",0,1,2,3]]]);
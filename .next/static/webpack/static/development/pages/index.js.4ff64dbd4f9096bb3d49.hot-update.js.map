{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.4ff64dbd4f9096bb3d49.hot-update.js","sources":["webpack:///./pages/Audio.js"],"sourcesContent":["import BandJS from '../band.js/dist/band';\r\nimport { useState } from 'react';\r\n\r\nexport const Audio = (props) => {\r\n\tlet [player, setPlayer] = useState('');\r\n\tfunction playHandler() {\r\n\t\tconsole.log(player);\r\n\t\tif (player) {\r\n\t\t\tconsole.log(player);\r\n\r\n\t\t\tplayer.stop();\r\n\t\t}\r\n\t\tlet conductor = new BandJS();\r\n\t\tlet sectionsProps = [];\r\n\t\tprops.analysis.sections.forEach((section) => {\r\n\t\t\tsectionsProps.push([section.duration * 1000, section.tempo]);\r\n\t\t});\r\n\t\tconsole.log(sectionsProps);\r\n\t\tconductor.setTimeSignature(4, 4);\r\n\t\tconductor.setTempo(sectionsProps[0][1]);\r\n\t\tlet piano = conductor.createInstrument('sine');\r\n\t\tpiano.note('quarter', 'G3');\r\n\t\tsetPlayer(conductor.finish());\r\n\t\tplayer.loop(true);\r\n\t\trhythmTimer(sectionsProps[0][0]);\r\n\t\tfunction rhythmTimer(time) {\r\n\t\t\tplayer.play();\r\n\t\t\tsectionsProps.shift();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tplayer.stop();\r\n\t\t\t\tif (sectionsProps.length != 0) {\r\n\t\t\t\t\tconductor.setTempo(sectionsProps[0][1]);\r\n\t\t\t\t\tplayer = conductor.finish();\r\n\t\t\t\t\tplayer.loop(true);\r\n\t\t\t\t\trhythmTimer(sectionsProps[0][0]);\r\n\t\t\t\t}\r\n\t\t\t}, time);\r\n\t\t}\r\n\t}\r\n\treturn <p onClick={playHandler}>click Me</p>;\r\n};\r\n\r\nexport default Audio;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;;;;A","sourceRoot":""}
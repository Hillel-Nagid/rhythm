{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hillel nagid\\\\Desktop\\\\rhythm\\\\pages\\\\rhythm.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Fragmant, Component } from 'react'; //import { SpotifyApiContext, Search } from 'react-spotify-api';\n\nimport axios from 'axios';\n/*class Rhythm extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<SpotifyApiContext.Provider value={`58b9c4063c904cda87af80186a732f01`}>\r\n\t\t\t\t<Search query={songName} track>\r\n\t\t\t\t\t{(data, loading, error) =>\r\n\t\t\t\t\t\tdata ? (\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t{data.tracks.items.map(song => {\r\n\t\t\t\t\t\t\t\t\t<li key={song.id}>{song.name}</li>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t</Search>\r\n\t\t\t</SpotifyApiContext.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Rhythm;\r\n*/\n\nclass Rhythm extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"getTracks\", () => {\n      axios.get(`https://api.spotify.com/v1/search?q=${this.state.query}&type=track&limit=5`, {\n        headers: {\n          Authorization: `${this.state.token_type} ${this.state.token}`\n        }\n      }).then(data => {\n        this.setState({\n          tracks_list: data.data.tracks.items\n        });\n        console.log(this.state.tracks_list);\n      }).catch(err => {\n        console.log(err);\n      });\n    });\n\n    _defineProperty(this, \"changeHandler\", e => {\n      this.setState({\n        query: this.search.value\n      });\n      this.setState({\n        tracks_list: this.getTracks(inputVal)\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        }\n      });\n    });\n\n    this.state = {\n      token: null,\n      tracks_list: [],\n      query: ''\n    };\n  }\n\n  componentDidMount() {\n    const hash = window.location.hash.substring(1).split('&').reduce((initial, item) => {\n      if (item) {\n        var parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n\n      return initial;\n    }, {});\n    this.setState({\n      token: hash.access_token,\n      token_type: hash.token_type\n    });\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, !this.state.token && __jsx(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }\n    }, __jsx(\"a\", {\n      href: \"https://accounts.spotify.com/authorize?client_id=58b9c4063c904cda87af80186a732f01&redirect_uri=http:%2F%2Flocalhost:3000&response_type=token\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, \"Login With Spotify\")), this.state.token && __jsx(React.Fragment, null, __jsx(\"input\", {\n      ref: input => this.search = input,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }), __jsx(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, this.state.tracks_list.map(track => {\n      __jsx(\"li\", {\n        key: track.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, track.name);\n    }))));\n  }\n\n}\n\nexport default Rhythm;","map":{"version":3,"sources":["C:/Users/hillel nagid/Desktop/rhythm/pages/rhythm.js"],"names":["React","Fragmant","Component","axios","Rhythm","constructor","get","state","query","headers","Authorization","token_type","token","then","data","setState","tracks_list","tracks","items","console","log","catch","err","e","search","value","getTracks","inputVal","length","getInfo","componentDidMount","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","access_token","render","input","changeHandler","map","track","id","name"],"mappings":"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","sourcesContent":["import React, { Fragmant, Component } from 'react';\r\n//import { SpotifyApiContext, Search } from 'react-spotify-api';\r\nimport axios from 'axios';\r\n\r\n/*class Rhythm extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<SpotifyApiContext.Provider value={`58b9c4063c904cda87af80186a732f01`}>\r\n\t\t\t\t<Search query={songName} track>\r\n\t\t\t\t\t{(data, loading, error) =>\r\n\t\t\t\t\t\tdata ? (\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t{data.tracks.items.map(song => {\r\n\t\t\t\t\t\t\t\t\t<li key={song.id}>{song.name}</li>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t</Search>\r\n\t\t\t</SpotifyApiContext.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Rhythm;\r\n*/\r\n\r\nclass Rhythm extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = { token: null, tracks_list: [], query: '' };\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst hash = window.location.hash\r\n\t\t\t.substring(1)\r\n\t\t\t.split('&')\r\n\t\t\t.reduce((initial, item) => {\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tvar parts = item.split('=');\r\n\t\t\t\t\tinitial[parts[0]] = decodeURIComponent(parts[1]);\r\n\t\t\t\t}\r\n\t\t\t\treturn initial;\r\n\t\t\t}, {});\r\n\t\tthis.setState({ token: hash.access_token, token_type: hash.token_type });\r\n\t}\r\n\tgetTracks = () => {\r\n\t\taxios\r\n\t\t\t.get(\r\n\t\t\t\t`https://api.spotify.com/v1/search?q=${this.state.query}&type=track&limit=5`,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `${this.state.token_type} ${this.state.token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.setState({ tracks_list: data.data.tracks.items });\r\n\t\t\t\tconsole.log(this.state.tracks_list);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\tchangeHandler = e => {\r\n\t\tthis.setState({\r\n\t\t\tquery: this.search.value\r\n\t\t});\r\n\t\tthis.setState({ tracks_list: this.getTracks(inputVal) }, () => {\r\n\t\t\tif (this.state.query && this.state.query.length > 1) {\r\n\t\t\t\tif (this.state.query.length % 2 === 0) {\r\n\t\t\t\t\tthis.getInfo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t<button>\r\n\t\t\t\t\t\t<a href='https://accounts.spotify.com/authorize?client_id=58b9c4063c904cda87af80186a732f01&redirect_uri=http:%2F%2Flocalhost:3000&response_type=token'>\r\n\t\t\t\t\t\t\tLogin With Spotify\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.token && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tref={input => (this.search = input)}\r\n\t\t\t\t\t\t\tonChange={this.changeHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{this.state.tracks_list.map(track => {\r\n\t\t\t\t\t\t\t\t<li key={track.id}>{track.name}</li>;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Rhythm;\r\n"]},"metadata":{},"sourceType":"module"}